<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Test Site</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.min.css">

        <link href='http://fonts.googleapis.com/css?family=Raleway:100|Open+Sans:400,300' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="css/main.css">
        <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>

        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    </head>

    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div id="intro">
            <div class="content">

                <h1>What makes the genre</h1>
                <h1>Classic Rock?</h1>
                <p>A short narrative based upon the data collected through radio stations</p>
            </div>
        </div>

        <div id="main" class="main-container">
            <div id="chat1" class="c1">
                <img src="img/c1.svg" />
            </div>

            <div id="chat2" class="c2">
                <img src="img/c2.svg" />
            </div>

            <div id="chat3" class="c3">
                <img src="img/c3.svg" />
            </div>

            <div id="chat4" class="c4">
                <img src="img/c4.svg" />
            </div>

            <div id="bands" class="chart">


                <p class="chart">Led Zeppelin is classic rock. So are Mötley Crüe and Ozzy Osbourne. But what about U2 or Nirvana? As a child of the 1990s, I never doubted that any of these bands were classic rock, even though it may be shocking for many to hear. And then I heard Green Day’s songs on classic rock station, and I was shocked.

It was my first time hearing a band I grew up with referred to as “classic rock.” Almost anyone who listens to music over a long enough period of time probably experiences this moment — my colleagues related some of their own, like hearing R.E.M. or Guns N’ Roses on a classic rock station — but it made me wonder, what precisely is classic rock? As it turns out, a massive amount of data collection and analysis, and some algorithms, go into figuring out the answer to that very question.</p>

                <script>
                  $.get('img/bands.svg', function(data) {

                    $(document.body).append(data.documentElement);



                    // tooltip logic

                    $('#b1_2_').hover(
                      function mouseover() {
                        $('#h1').show();
                      },
                      function mouseleave() {
                        $('#h1').hide();
                      }
                    );

                    $('#b2').hover(
                      function mouseover() {
                        $('#h2').show();
                      },
                      function mouseleave() {
                        $('#h2').hide();
                      }
                    );

                    $('#b3').hover(
                      function mouseover() {
                        $('#h3').show();
                      },
                      function mouseleave() {
                        $('#h3').hide();
                      }
                    );

                    $('#b4').hover(
                      function mouseover() {
                        $('#h4').show();
                      },
                      function mouseleave() {
                        $('#h4').hide();
                      }
                    );

                    $('#b5').hover(
                      function mouseover() {
                        $('#h5').show();
                      },
                      function mouseleave() {
                        $('#h5').hide();
                      }
                    );

                    $('#b6').hover(
                      function mouseover() {
                        $('#h6').show();
                      },
                      function mouseleave() {
                        $('#h6').hide();
                      }
                    );

                    $('#b7_2_').hover(
                      function mouseover() {
                        $('#h7').show();
                      },
                      function mouseleave() {
                        $('#h7').hide();
                      }
                    );

                    $('#b8_2_').hover(
                      function mouseover() {
                        $('#h8').show();
                      },
                      function mouseleave() {
                        $('#h8').hide();
                      }
                    );

                    $('#b9').hover(
                      function mouseover() {
                        $('#h9').show();
                      },
                      function mouseleave() {
                        $('#h9').hide();
                      }
                    );

                    $('#b10').hover(
                      function mouseover() {
                        $('#h10').show();
                      },
                      function mouseleave() {
                        $('#h10').hide();
                      }
                    );

                    $('#b11_2_').hover(
                      function mouseover() {
                        $('#h11').show();
                      },
                      function mouseleave() {
                        $('#h11').hide();
                      }
                    );

                    $('#b12_2_').hover(
                      function mouseover() {
                        $('#h12').show();
                      },
                      function mouseleave() {
                        $('#h12').hide();
                      }
                    );

                    $('#b13').hover(
                      function mouseover() {
                        $('#h13').show();
                      },
                      function mouseleave() {
                        $('#h13').hide();
                      }
                    );

                    $('#b14').hover(
                      function mouseover() {
                        $('#h14').show();
                      },
                      function mouseleave() {
                        $('#h14').hide();
                      }
                    );

                    $('#b15_2_').hover(
                      function mouseover() {
                        $('#h15').show();
                      },
                      function mouseleave() {
                        $('#h15').hide();
                      }
                    );

                    $('#b16_2_').hover(
                      function mouseover() {
                        $('#h16').show();
                      },
                      function mouseleave() {
                        $('#h16').hide();
                      }
                    );

                    $('#b17_2_').hover(
                      function mouseover() {
                        $('#h17').show();
                      },
                      function mouseleave() {
                        $('#h17').hide();
                      }
                    );

                    $('#b18_2_').hover(
                      function mouseover() {
                        $('#h18').show();
                      },
                      function mouseleave() {
                        $('#h18').hide();
                      }
                    );

                    $('#b19_2_').hover(
                      function mouseover() {
                        $('#h19').show();
                      },
                      function mouseleave() {
                        $('#h19').hide();
                      }
                    );

                    $('#b20_2_').hover(
                      function mouseover() {
                        $('#h20').show();
                      },
                      function mouseleave() {
                        $('#h20').hide();
                      }
                    );

                    $('#b21').hover(
                      function mouseover() {
                        $('#h21').show();
                      },
                      function mouseleave() {
                        $('#h21').hide();
                      }
                    );

                    $('#b22_2_').hover(
                      function mouseover() {
                        $('#h22').show();
                      },
                      function mouseleave() {
                        $('#h22').hide();
                      }
                    );

                    $('#b23').hover(
                      function mouseover() {
                        $('#h23').show();
                      },
                      function mouseleave() {
                        $('#h23').hide();
                      }
                    );

                    $('#b24_2_').hover(
                      function mouseover() {
                        $('#h24').show();
                      },
                      function mouseleave() {
                        $('#h24').hide();
                      }
                    );

                    $('#b25_2_').hover(
                      function mouseover() {
                        $('#h25').show();
                      },
                      function mouseleave() {
                        $('#h25').hide();
                      }
                    );

                    $('#b26_2_').hover(
                      function mouseover() {
                        $('#h26').show();
                      },
                      function mouseleave() {
                        $('#h26').hide();
                      }
                    );

                    $('#b27').hover(
                      function mouseover() {
                        $('#h27').show();
                      },
                      function mouseleave() {
                        $('#h27').hide();
                      }
                    );

                    $('#b28_2_').hover(
                      function mouseover() {
                        $('#h28').show();
                      },
                      function mouseleave() {
                        $('#h28').hide();
                      }
                    );

                    $('#b29_2_').hover(
                      function mouseover() {
                        $('#h29').show();
                      },
                      function mouseleave() {
                        $('#h29').hide();
                      }
                    );

                    $('#b30_2_').hover(
                      function mouseover() {
                        $('#h30').show();
                      },
                      function mouseleave() {
                        $('#h30').hide();
                      }
                    );

                    $('#b31_2_').hover(
                      function mouseover() {
                        $('#h31').show();
                      },
                      function mouseleave() {
                        $('#h31').hide();
                      }
                    );

                    $('#b32_2_').hover(
                      function mouseover() {
                        $('#h32').show();
                      },
                      function mouseleave() {
                        $('#h32').hide();
                      }
                    );

                    $('#b33_2_').hover(
                      function mouseover() {
                        $('#h33').show();
                      },
                      function mouseleave() {
                        $('#h33').hide();
                      }
                    );

                    $('#b34').hover(
                      function mouseover() {
                        $('#h34').show();
                      },
                      function mouseleave() {
                        $('#h34').hide();
                      }
                    );

                    $('#b35_3_').hover(
                      function mouseover() {
                        $('#h35').show();
                      },
                      function mouseleave() {
                        $('#h35').hide();
                      }
                    );

                    $('#b36_2_').hover(
                      function mouseover() {
                        $('#h36').show();
                      },
                      function mouseleave() {
                        $('#h36').hide();
                      }
                    );

                    $('#b37_2_').hover(
                      function mouseover() {
                        $('#h37').show();
                      },
                      function mouseleave() {
                        $('#h37').hide();
                      }
                    );

                  });

                  </script>

            </div>



        </div> <!-- #main-container -->


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>

        <script src="js/main.js"></script>
<!-- <iframe id="serviceFrameSend" src="./vega.html" width="1300" frameborder ="0"> -->
    </body>
</html>




<html id="visdown" lang="en">
<head>
    <meta charset="utf-8">


    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="lib/vega.min.js"></script>
    <script src="lib/vega-lite.min.js"></script>
    <script src="lib/vega-embed.min.js"></script>
    <script src="lib/marked.min.js"></script>
    <script src="lib/yaml.min.js"></script>

    <style>
      #visdown-output {
        max-width: 800px;
        margin: 120px auto;
        align-items: center;
      }

      #visdown-input {
        display: none;
      }
    </style>

</head>
<body>

<div id="visdown-input">



  ```vis
  width: 600
  height: 400
  data:
    url: data/data.csv

  selection:
    mouHov:
     type: multi
     'on': mouseover
     nearest: true

  mark: bar
  encoding:
    x:

      type: nominal
      field: Release Year
      axis:
        grid: 0
    y:
      type: quantitative
      field: PlayCount
      axis:
        grid: 0

    tooltip:
        field: PlayCount
        type: quantitative

  ```



  ```vis
  width: 600
  height: 400
  data:
    url: data/list2.csv
  selection:
    paintbrush:
      type: multi
      'on': mouseover
      nearest: true

  mark: circle
  encoding:
    x:
      type: quantitative
      field: Percentage of Plays
      axis:
        grid: 0

    y:
      type: nominal
      field: Artist
      axis:
        grid: 0

    color:
      condition:
        selection: paintbrush
        field: Percentage of Plays
        type: nominal
      value: grey


    size:
      field: Percentage of Plays
      type: quantitative
    tooltip:
      field: Artist
      type: nominal




  ```

  ```vis
  width: 600
  height: 400
  data:
    url: data/list1.csv

  mark: bar
  encoding:
    x:
      type: quantitative
      field: Play Count
      scale:
        rangeStep: 1


    y:
      type: ordinal
      field: Song
      sort: descending
    color:
      type: Ordinal
      field: Play Count
    tooltip:
      type: quantitative
      field: Play Count


  ```


  ```vis
    width: 600
    height: 400
    data:
      url: data/zone.csv

    mark: circle
    encoding:
      x:
        type: nominal
        field: artist

      y:
        type: nominal
        field: cities

      size:
        field: played
        type: quantitative
      color:
        type: ordinal
        field: zone
      tooltip:
        type: nominal
        field: artist




  ```


  ```vis
  $schema: https://vega.github.io/schema/vega/v3.0.json
  width: 960
  height: 500
  padding:
    top: 25
    left: 0
    right: 0
    bottom: 0


  signals:
  - name: hover
    value:
    'on':
    - events: "symbol:mouseover"
      update: datum
    - events: "symbol:mouseout"
      update: 'null'
  - name: title
    value: Classic Rock Across America
    update: 'hover ? hover.artist + '' ('' + hover.cities+ '')'' : ''Classic Rock Across America'''

  data:
  - name: plays
    url: data/zone.csv
    format:
      type: csv
      parse: auto
    transform:
    - type: aggregate
      groupby:
      - played
      fields:
      - played
      as:
      - played
  - name: states
    url: data/usamap.json
    format:
      type: topojson
      feature: collection
    transform:
    - type: geopath
      projection: projection
  - name: artists
    url: data/zone.csv
    format:
      type: csv
      parse: auto
    transform:
    - type: geopoint
      projection: projection
      fields:
      - longitude
      - latitude
    - type: filter
      expr: datum.x != null && datum.y != null


  projections:
  - name: projection
    type: albersUsa
    scale: 1200
    translate:
    - signal: width/2
    - signal: height/2

  scales:
  - name: size
    type: linear
    domain:
      data: plays
      field: played
    range:
    - 1
    - 500



  marks:
  - type: path
    from:
      data: states
    encode:
      enter:
        fill:
          value: grey
        stroke:
          value: "#dedede"
      update:
        path:
          field: path
  - type: symbol
    from:
      data: artists
    encode:
      enter:
        size:
          scale: size
          field: played
        fill:
          value: steelblue
        fillOpacity:
          value: 0.8
        stroke:
          value: white
        strokeWidth:
          value: 1.5
      update:
        x:
          field: x
        y:
          field: y
  - type: text
    interactive: false
    encode:
      enter:
        x:
          signal: width
          offset: -5
        y:
          value: 0
        fill:
          value: black
        fontSize:
          value: 20
        align:
          value: right
      update:
        text:
          signal: title


  ```



</div>
<div id="visdown-output"></div>

<script src="lib/visdown.js"></script>

</body>
</html>
